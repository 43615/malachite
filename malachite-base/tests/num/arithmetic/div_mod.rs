use malachite_base::num::arithmetic::traits::{
    CeilingDivAssignMod, CeilingDivAssignNegMod, CeilingDivMod, CeilingDivNegMod, DivAssignMod,
    DivAssignRem, DivMod, DivRem,
};
use malachite_base::num::basic::signeds::PrimitiveSigned;
use malachite_base::num::basic::traits::One;
use malachite_base::num::basic::unsigneds::PrimitiveUnsigned;

#[test]
fn test_div_mod_and_div_rem_unsigned() {
    fn test<T: PrimitiveUnsigned>(n: T, d: T, q: T, r: T) {
        assert_eq!(n.div_mod(d), (q, r));

        let mut mut_n = n;
        assert_eq!(mut_n.div_assign_mod(d), r);
        assert_eq!(mut_n, q);

        assert_eq!(n.div_rem(d), (q, r));

        let mut mut_n = n;
        assert_eq!(mut_n.div_assign_rem(d), r);
        assert_eq!(mut_n, q);
    };
    test::<u8>(0, 1, 0, 0);
    test::<u16>(0, 123, 0, 0);
    test::<u32>(1, 1, 1, 0);
    test::<u64>(123, 1, 123, 0);
    test::<usize>(123, 123, 1, 0);
    test::<u128>(123, 456, 0, 123);
    test::<u16>(456, 123, 3, 87);
    test::<u32>(0xffff_ffff, 1, 0xffff_ffff, 0);
    test::<usize>(0xffff_ffff, 0xffff_ffff, 1, 0);
    test::<u64>(1_000_000_000_000, 1, 1_000_000_000_000, 0);
    test::<u64>(1_000_000_000_000, 3, 333_333_333_333, 1);
    test::<u64>(1_000_000_000_000, 123, 8_130_081_300, 100);
    test::<u64>(1_000_000_000_000, 0xffff_ffff, 232, 3_567_587_560);
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        3,
        333_333_333_333_333_333_333_333,
        1,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        123,
        8_130_081_300_813_008_130_081,
        37,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        232_830_643_708_079,
        3_167_723_695,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        810_000_006_723,
        530_068_894_399,
    );
    test::<u128>(
        253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        94_998_781_946_290_113,
        1_520_301_762_334,
    );
    test::<u64>(
        3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        0,
        3_768_477_692_975_601,
    );
    test::<u64>(
        3_356_605_361_737_854,
        3_081_095_617_839_357,
        1,
        275_509_743_898_497,
    );
    test::<u128>(
        1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        1,
        145_347_900_158_016_763_719,
    );
    test::<u128>(
        69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<u128>(0, 1_000_000_000_000_000_000_000_000, 0, 0);
    test::<u128>(123, 1_000_000_000_000_000_000_000_000, 0, 123);
}

macro_rules! div_mod_unsigned_fail {
    ($t:ident, $div_mod_unsigned_fail:ident) => {
        #[test]
        #[should_panic]
        fn $div_mod_unsigned_fail() {
            $t::ONE.div_mod(0);
        }
    };
}
div_mod_unsigned_fail!(u8, div_mod_unsigned_u8_fail);
div_mod_unsigned_fail!(u16, div_mod_unsigned_u16_fail);
div_mod_unsigned_fail!(u32, div_mod_unsigned_u32_fail);
div_mod_unsigned_fail!(u64, div_mod_unsigned_u64_fail);
div_mod_unsigned_fail!(u128, div_mod_unsigned_u128_fail);
div_mod_unsigned_fail!(usize, div_mod_unsigned_usize_fail);

macro_rules! div_assign_mod_unsigned_fail {
    ($t:ident, $div_assign_mod_unsigned_fail:ident) => {
        #[test]
        #[should_panic]
        fn $div_assign_mod_unsigned_fail() {
            $t::ONE.div_assign_mod(0);
        }
    };
}
div_assign_mod_unsigned_fail!(u8, div_assign_mod_unsigned_u8_fail);
div_assign_mod_unsigned_fail!(u16, div_assign_mod_unsigned_u16_fail);
div_assign_mod_unsigned_fail!(u32, div_assign_mod_unsigned_u32_fail);
div_assign_mod_unsigned_fail!(u64, div_assign_mod_unsigned_u64_fail);
div_assign_mod_unsigned_fail!(u128, div_assign_mod_unsigned_u128_fail);
div_assign_mod_unsigned_fail!(usize, div_assign_mod_unsigned_usize_fail);

macro_rules! div_rem_unsigned_fail {
    ($t:ident, $div_rem_unsigned_fail:ident) => {
        #[test]
        #[should_panic]
        fn $div_rem_unsigned_fail() {
            $t::ONE.div_rem(0);
        }
    };
}
div_rem_unsigned_fail!(u8, div_rem_unsigned_u8_fail);
div_rem_unsigned_fail!(u16, div_rem_unsigned_u16_fail);
div_rem_unsigned_fail!(u32, div_rem_unsigned_u32_fail);
div_rem_unsigned_fail!(u64, div_rem_unsigned_u64_fail);
div_rem_unsigned_fail!(u128, div_rem_unsigned_u128_fail);
div_rem_unsigned_fail!(usize, div_rem_unsigned_usize_fail);

macro_rules! div_assign_rem_unsigned_fail {
    ($t:ident, $div_assign_rem_unsigned_fail:ident) => {
        #[test]
        #[should_panic]
        fn $div_assign_rem_unsigned_fail() {
            $t::ONE.div_assign_rem(0);
        }
    };
}
div_assign_rem_unsigned_fail!(u8, div_assign_rem_unsigned_u8_fail);
div_assign_rem_unsigned_fail!(u16, div_assign_rem_unsigned_u16_fail);
div_assign_rem_unsigned_fail!(u32, div_assign_rem_unsigned_u32_fail);
div_assign_rem_unsigned_fail!(u64, div_assign_rem_unsigned_u64_fail);
div_assign_rem_unsigned_fail!(u128, div_assign_rem_unsigned_u128_fail);
div_assign_rem_unsigned_fail!(usize, div_assign_rem_unsigned_usize_fail);

#[test]
fn test_div_mod_signed() {
    fn test<T: PrimitiveSigned>(n: T, d: T, q: T, r: T) {
        assert_eq!(n.div_mod(d), (q, r));

        let mut mut_n = n;
        assert_eq!(mut_n.div_assign_mod(d), r);
        assert_eq!(mut_n, q);
    };
    test::<i8>(0, 1, 0, 0);
    test::<i16>(0, 123, 0, 0);
    test::<i32>(1, 1, 1, 0);
    test::<i64>(123, 1, 123, 0);
    test::<i128>(123, 123, 1, 0);
    test::<isize>(123, 456, 0, 123);
    test::<i16>(456, 123, 3, 87);
    test::<i64>(0xffff_ffff, 1, 0xffff_ffff, 0);
    test::<i64>(0xffff_ffff, 0xffff_ffff, 1, 0);
    test::<i64>(1_000_000_000_000, 1, 1_000_000_000_000, 0);
    test::<i64>(1_000_000_000_000, 3, 333_333_333_333, 1);
    test::<i64>(1_000_000_000_000, 123, 8_130_081_300, 100);
    test::<i64>(1_000_000_000_000, 0xffff_ffff, 232, 3_567_587_560);
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        3,
        333_333_333_333_333_333_333_333,
        1,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        123,
        8_130_081_300_813_008_130_081,
        37,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        232_830_643_708_079,
        3_167_723_695,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        810_000_006_723,
        530_068_894_399,
    );
    test::<i128>(
        253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        94_998_781_946_290_113,
        1_520_301_762_334,
    );
    test::<i128>(
        3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        0,
        3_768_477_692_975_601,
    );
    test::<i64>(
        3_356_605_361_737_854,
        3_081_095_617_839_357,
        1,
        275_509_743_898_497,
    );
    test::<i128>(
        1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        1,
        145_347_900_158_016_763_719,
    );
    test::<i128>(
        69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<i128>(0, 1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(123, 1_000_000_000_000_000_000_000_000, 0, 123);

    test::<i8>(0, -1, 0, 0);
    test::<i16>(0, -123, 0, 0);
    test::<i32>(1, -1, -1, 0);
    test::<i64>(123, -1, -123, 0);
    test::<i128>(123, -123, -1, 0);
    test::<isize>(123, -456, -1, -333);
    test::<i16>(456, -123, -4, -36);
    test::<i64>(0xffff_ffff, -1, -0xffff_ffff, 0);
    test::<i64>(0xffff_ffff, -0xffff_ffff, -1, 0);
    test::<i64>(1_000_000_000_000, -1, -1_000_000_000_000, 0);
    test::<i64>(1_000_000_000_000, -3, -333_333_333_334, -2);
    test::<i64>(1_000_000_000_000, -123, -8_130_081_301, -23);
    test::<i64>(1_000_000_000_000, -0xffff_ffff, -233, -727_379_735);
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1,
        -1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -3,
        -333_333_333_333_333_333_333_334,
        -2,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -123,
        -8_130_081_300_813_008_130_082,
        -86,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -0xffff_ffff,
        -232_830_643_708_080,
        -1_127_243_600,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1_234_567_890_987,
        -810_000_006_724,
        -704_498_996_588,
    );
    test::<i128>(
        253_640_751_230_376_270_397_812_803_167,
        -2_669_936_877_441,
        -94_998_781_946_290_114,
        -1_149_635_115_107,
    );
    test::<i128>(
        3_768_477_692_975_601,
        -11_447_376_614_057_827_956,
        -1,
        -11_443_608_136_364_852_355,
    );
    test::<i64>(
        3_356_605_361_737_854,
        -3_081_095_617_839_357,
        -2,
        -2_805_585_873_940_860,
    );
    test::<i128>(
        1_098_730_198_198_174_614_195,
        -953_382_298_040_157_850_476,
        -2,
        -808_034_397_882_141_086_757,
    );
    test::<i128>(
        69_738_658_860_594_537_152_875_081_748,
        -69_738_658_860_594_537_152_875_081_748,
        -1,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1_000_000_000_000_000_000_000_000,
        -1,
        0,
    );
    test::<i128>(0, -1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(
        123,
        -1_000_000_000_000_000_000_000_000,
        -1,
        -999_999_999_999_999_999_999_877,
    );

    test::<i8>(-1, 1, -1, 0);
    test::<i16>(-123, 1, -123, 0);
    test::<i32>(-123, 123, -1, 0);
    test::<i64>(-123, 456, -1, 333);
    test::<isize>(-456, 123, -4, 36);
    test::<i64>(-0xffff_ffff, -1, 0xffff_ffff, 0);
    test::<i64>(-0xffff_ffff, 0xffff_ffff, -1, 0);
    test::<i64>(-1_000_000_000_000, 1, -1_000_000_000_000, 0);
    test::<i64>(-1_000_000_000_000, 3, -333_333_333_334, 2);
    test::<i64>(-1_000_000_000_000, 123, -8_130_081_301, 23);
    test::<i64>(-1_000_000_000_000, 0xffff_ffff, -233, 727_379_735);
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1,
        -1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        3,
        -333_333_333_333_333_333_333_334,
        2,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        123,
        -8_130_081_300_813_008_130_082,
        86,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        -232_830_643_708_080,
        1_127_243_600,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        -810_000_006_724,
        704_498_996_588,
    );
    test::<i128>(
        -253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        -94_998_781_946_290_114,
        1_149_635_115_107,
    );
    test::<i128>(
        -3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        -1,
        11_443_608_136_364_852_355,
    );
    test::<i64>(
        -3_356_605_361_737_854,
        3_081_095_617_839_357,
        -2,
        2_805_585_873_940_860,
    );
    test::<i128>(
        -1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        -2,
        808_034_397_882_141_086_757,
    );
    test::<i128>(
        -69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        -1,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        -1,
        0,
    );
    test::<i128>(
        -123,
        1_000_000_000_000_000_000_000_000,
        -1,
        999_999_999_999_999_999_999_877,
    );

    test::<i8>(-1, -1, 1, 0);
    test::<i16>(-123, -1, 123, 0);
    test::<i32>(-123, -123, 1, 0);
    test::<i64>(-123, -456, 0, -123);
    test::<isize>(-456, -123, 3, -87);
    test::<i128>(-0xffff_ffff, -1, 0xffff_ffff, 0);
    test::<i64>(-0xffff_ffff, -0xffff_ffff, 1, 0);
    test::<i64>(-1_000_000_000_000, -1, 1_000_000_000_000, 0);
    test::<i64>(-1_000_000_000_000, -3, 333_333_333_333, -1);
    test::<i64>(-1_000_000_000_000, -123, 8_130_081_300, -100);
    test::<i64>(-1_000_000_000_000, -0xffff_ffff, 232, -3_567_587_560);
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -3,
        333_333_333_333_333_333_333_333,
        -1,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -123,
        8_130_081_300_813_008_130_081,
        -37,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -0xffff_ffff,
        232_830_643_708_079,
        -3_167_723_695,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1_234_567_890_987,
        810_000_006_723,
        -530_068_894_399,
    );
    test::<i128>(
        -253_640_751_230_376_270_397_812_803_167,
        -2_669_936_877_441,
        94_998_781_946_290_113,
        -1_520_301_762_334,
    );
    test::<i128>(
        -3_768_477_692_975_601,
        -11_447_376_614_057_827_956,
        0,
        -3_768_477_692_975_601,
    );
    test::<i64>(
        -3_356_605_361_737_854,
        -3_081_095_617_839_357,
        1,
        -275_509_743_898_497,
    );
    test::<i128>(
        -1_098_730_198_198_174_614_195,
        -953_382_298_040_157_850_476,
        1,
        -145_347_900_158_016_763_719,
    );
    test::<i128>(
        -69_738_658_860_594_537_152_875_081_748,
        -69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<i128>(-123, -1_000_000_000_000_000_000_000_000, 0, -123);
}

macro_rules! div_mod_signed_fail {
    ($t:ident, $div_mod_signed_fail_1:ident, $div_mod_signed_fail_2:ident) => {
        #[test]
        #[should_panic]
        fn $div_mod_signed_fail_1() {
            $t::ONE.div_mod(0);
        }

        #[test]
        #[should_panic]
        fn $div_mod_signed_fail_2() {
            $t::MIN.div_mod(-1);
        }
    };
}
div_mod_signed_fail!(i8, div_mod_signed_i8_fail_1, div_mod_signed_i8_fail_2);
div_mod_signed_fail!(i16, div_mod_signed_i16_fail_1, div_mod_signed_i16_fail_2);
div_mod_signed_fail!(i32, div_mod_signed_i32_fail_1, div_mod_signed_i32_fail_2);
div_mod_signed_fail!(i64, div_mod_signed_i64_fail_1, div_mod_signed_i64_fail_2);
div_mod_signed_fail!(i128, div_mod_signed_i128_fail_1, div_mod_signed_i128_fail_2);
div_mod_signed_fail!(
    isize,
    div_mod_signed_isize_fail_1,
    div_mod_signed_isize_fail_2
);

macro_rules! div_assign_mod_signed_fail {
    ($t:ident, $div_assign_mod_signed_fail_1:ident, $div_assign_mod_signed_fail_2:ident) => {
        #[test]
        #[should_panic]
        fn $div_assign_mod_signed_fail_1() {
            $t::ONE.div_assign_mod(0);
        }

        #[test]
        #[should_panic]
        fn $div_assign_mod_signed_fail_2() {
            $t::MIN.div_assign_mod(-1);
        }
    };
}
div_assign_mod_signed_fail!(
    i8,
    div_assign_mod_signed_i8_fail_1,
    div_assign_mod_signed_i8_fail_2
);
div_assign_mod_signed_fail!(
    i16,
    div_assign_mod_signed_i16_fail_1,
    div_assign_mod_signed_i16_fail_2
);
div_assign_mod_signed_fail!(
    i32,
    div_assign_mod_signed_i32_fail_1,
    div_assign_mod_signed_i32_fail_2
);
div_assign_mod_signed_fail!(
    i64,
    div_assign_mod_signed_i64_fail_1,
    div_assign_mod_signed_i64_fail_2
);
div_assign_mod_signed_fail!(
    i128,
    div_assign_mod_signed_i128_fail_1,
    div_assign_mod_signed_i128_fail_2
);
div_assign_mod_signed_fail!(
    isize,
    div_assign_mod_signed_isize_fail_1,
    div_assign_mod_signed_isize_fail_2
);

#[test]
fn test_div_rem_signed() {
    fn test<T: PrimitiveSigned>(n: T, d: T, q: T, r: T) {
        assert_eq!(n.div_rem(d), (q, r));

        let mut mut_n = n;
        assert_eq!(mut_n.div_assign_rem(d), r);
        assert_eq!(mut_n, q);
    }
    test::<i8>(0, 1, 0, 0);
    test::<i16>(0, 123, 0, 0);
    test::<i32>(1, 1, 1, 0);
    test::<i64>(123, 1, 123, 0);
    test::<i128>(123, 123, 1, 0);
    test::<isize>(123, 456, 0, 123);
    test::<i16>(456, 123, 3, 87);
    test::<i64>(0xffff_ffff, 1, 0xffff_ffff, 0);
    test::<i64>(0xffff_ffff, 0xffff_ffff, 1, 0);
    test::<i64>(1_000_000_000_000, 1, 1_000_000_000_000, 0);
    test::<i64>(1_000_000_000_000, 3, 333_333_333_333, 1);
    test::<i64>(1_000_000_000_000, 123, 8_130_081_300, 100);
    test::<i64>(1_000_000_000_000, 0xffff_ffff, 232, 3_567_587_560);
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        3,
        333_333_333_333_333_333_333_333,
        1,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        123,
        8_130_081_300_813_008_130_081,
        37,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        232_830_643_708_079,
        3_167_723_695,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        810_000_006_723,
        530_068_894_399,
    );
    test::<i128>(
        253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        94_998_781_946_290_113,
        1_520_301_762_334,
    );
    test::<i128>(
        3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        0,
        3_768_477_692_975_601,
    );
    test::<i64>(
        3_356_605_361_737_854,
        3_081_095_617_839_357,
        1,
        275_509_743_898_497,
    );
    test::<i128>(
        1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        1,
        145_347_900_158_016_763_719,
    );
    test::<i128>(
        69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<i128>(0, 1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(123, 1_000_000_000_000_000_000_000_000, 0, 123);

    test::<i8>(0, -1, 0, 0);
    test::<i16>(0, -123, 0, 0);
    test::<i32>(1, -1, -1, 0);
    test::<i64>(123, -1, -123, 0);
    test::<i128>(123, -123, -1, 0);
    test::<isize>(123, -456, 0, 123);
    test::<i16>(456, -123, -3, 87);
    test::<i64>(0xffff_ffff, -1, -0xffff_ffff, 0);
    test::<i64>(0xffff_ffff, -0xffff_ffff, -1, 0);
    test::<i64>(1_000_000_000_000, -1, -1_000_000_000_000, 0);
    test::<i64>(1_000_000_000_000, -3, -333_333_333_333, 1);
    test::<i64>(1_000_000_000_000, -123, -8_130_081_300, 100);
    test::<i64>(1_000_000_000_000, -0xffff_ffff, -232, 3_567_587_560);
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1,
        -1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -3,
        -333_333_333_333_333_333_333_333,
        1,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -123,
        -8_130_081_300_813_008_130_081,
        37,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -0xffff_ffff,
        -232_830_643_708_079,
        3_167_723_695,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1_234_567_890_987,
        -810_000_006_723,
        530_068_894_399,
    );
    test::<i128>(
        253_640_751_230_376_270_397_812_803_167,
        -2_669_936_877_441,
        -94_998_781_946_290_113,
        1_520_301_762_334,
    );
    test::<i128>(
        3_768_477_692_975_601,
        -11_447_376_614_057_827_956,
        0,
        3_768_477_692_975_601,
    );
    test::<i64>(
        3_356_605_361_737_854,
        -3_081_095_617_839_357,
        -1,
        275_509_743_898_497,
    );
    test::<i128>(
        1_098_730_198_198_174_614_195,
        -953_382_298_040_157_850_476,
        -1,
        145_347_900_158_016_763_719,
    );
    test::<i128>(
        69_738_658_860_594_537_152_875_081_748,
        -69_738_658_860_594_537_152_875_081_748,
        -1,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1_000_000_000_000_000_000_000_000,
        -1,
        0,
    );
    test::<i128>(0, -1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(123, -1_000_000_000_000_000_000_000_000, 0, 123);

    test::<i8>(-1, 1, -1, 0);
    test::<i16>(-123, 1, -123, 0);
    test::<i32>(-123, 123, -1, 0);
    test::<i64>(-123, 456, 0, -123);
    test::<isize>(-456, 123, -3, -87);
    test::<i64>(-0xffff_ffff, 1, -0xffff_ffff, 0);
    test::<i64>(-0xffff_ffff, 0xffff_ffff, -1, 0);
    test::<i64>(-1_000_000_000_000, 1, -1_000_000_000_000, 0);
    test::<i64>(-1_000_000_000_000, 3, -333_333_333_333, -1);
    test::<i64>(-1_000_000_000_000, 123, -8_130_081_300, -100);
    test::<i64>(-1_000_000_000_000, 0xffff_ffff, -232, -3_567_587_560);
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1,
        -1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        3,
        -333_333_333_333_333_333_333_333,
        -1,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        123,
        -8_130_081_300_813_008_130_081,
        -37,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        -232_830_643_708_079,
        -3_167_723_695,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        -810_000_006_723,
        -530_068_894_399,
    );
    test::<i128>(
        -253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        -94_998_781_946_290_113,
        -1_520_301_762_334,
    );
    test::<i128>(
        -3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        0,
        -3_768_477_692_975_601,
    );
    test::<i64>(
        -3_356_605_361_737_854,
        3_081_095_617_839_357,
        -1,
        -275_509_743_898_497,
    );
    test::<i128>(
        -1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        -1,
        -145_347_900_158_016_763_719,
    );
    test::<i128>(
        -69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        -1,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        -1,
        0,
    );
    test::<i128>(-123, 1_000_000_000_000_000_000_000_000, 0, -123);

    test::<i8>(-1, -1, 1, 0);
    test::<i16>(-123, -1, 123, 0);
    test::<i32>(-123, -123, 1, 0);
    test::<i64>(-123, -456, 0, -123);
    test::<isize>(-456, -123, 3, -87);
    test::<i64>(-0xffff_ffff, -1, 0xffff_ffff, 0);
    test::<i64>(-0xffff_ffff, -0xffff_ffff, 1, 0);
    test::<i64>(-1_000_000_000_000, -1, 1_000_000_000_000, 0);
    test::<i64>(-1_000_000_000_000, -3, 333_333_333_333, -1);
    test::<i64>(-1_000_000_000_000, -123, 8_130_081_300, -100);
    test::<i64>(-1_000_000_000_000, -0xffff_ffff, 232, -3_567_587_560);
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -3,
        333_333_333_333_333_333_333_333,
        -1,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -123,
        8_130_081_300_813_008_130_081,
        -37,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -0xffff_ffff,
        232_830_643_708_079,
        -3_167_723_695,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1_234_567_890_987,
        810_000_006_723,
        -530_068_894_399,
    );
    test::<i128>(
        -253_640_751_230_376_270_397_812_803_167,
        -2_669_936_877_441,
        94_998_781_946_290_113,
        -1_520_301_762_334,
    );
    test::<i128>(
        -3_768_477_692_975_601,
        -11_447_376_614_057_827_956,
        0,
        -3_768_477_692_975_601,
    );
    test::<i64>(
        -3_356_605_361_737_854,
        -3_081_095_617_839_357,
        1,
        -275_509_743_898_497,
    );
    test::<i128>(
        -1_098_730_198_198_174_614_195,
        -953_382_298_040_157_850_476,
        1,
        -145_347_900_158_016_763_719,
    );
    test::<i128>(
        -69_738_658_860_594_537_152_875_081_748,
        -69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<i128>(-123, -1_000_000_000_000_000_000_000_000, 0, -123);
}

macro_rules! div_rem_signed_fail {
    ($t:ident, $div_rem_signed_fail_1:ident, $div_rem_signed_fail_2:ident) => {
        #[test]
        #[should_panic]
        fn $div_rem_signed_fail_1() {
            $t::ONE.div_rem(0);
        }

        #[test]
        #[should_panic]
        fn $div_rem_signed_fail_2() {
            $t::MIN.div_rem(-1);
        }
    };
}
div_rem_signed_fail!(i8, div_rem_signed_i8_fail_1, div_rem_signed_i8_fail_2);
div_rem_signed_fail!(i16, div_rem_signed_i16_fail_1, div_rem_signed_i16_fail_2);
div_rem_signed_fail!(i32, div_rem_signed_i32_fail_1, div_rem_signed_i32_fail_2);
div_rem_signed_fail!(i64, div_rem_signed_i64_fail_1, div_rem_signed_i64_fail_2);
div_rem_signed_fail!(i128, div_rem_signed_i128_fail_1, div_rem_signed_i128_fail_2);
div_rem_signed_fail!(
    isize,
    div_rem_signed_isize_fail_1,
    div_rem_signed_isize_fail_2
);

macro_rules! div_assign_rem_signed_fail {
    ($t:ident, $div_assign_rem_signed_fail_1:ident, $div_assign_rem_signed_fail_2:ident) => {
        #[test]
        #[should_panic]
        fn $div_assign_rem_signed_fail_1() {
            $t::ONE.div_assign_rem(0);
        }

        #[test]
        #[should_panic]
        fn $div_assign_rem_signed_fail_2() {
            $t::MIN.div_assign_rem(-1);
        }
    };
}
div_assign_rem_signed_fail!(
    i8,
    div_assign_rem_signed_i8_fail_1,
    div_assign_rem_signed_i8_fail_2
);
div_assign_rem_signed_fail!(
    i16,
    div_assign_rem_signed_i16_fail_1,
    div_assign_rem_signed_i16_fail_2
);
div_assign_rem_signed_fail!(
    i32,
    div_assign_rem_signed_i32_fail_1,
    div_assign_rem_signed_i32_fail_2
);
div_assign_rem_signed_fail!(
    i64,
    div_assign_rem_signed_i64_fail_1,
    div_assign_rem_signed_i64_fail_2
);
div_assign_rem_signed_fail!(
    i128,
    div_assign_rem_signed_i128_fail_1,
    div_assign_rem_signed_i128_fail_2
);
div_assign_rem_signed_fail!(
    isize,
    div_assign_rem_signed_isize_fail_1,
    div_assign_rem_signed_isize_fail_2
);

#[test]
fn test_ceiling_div_neg_mod() {
    fn test<T: PrimitiveUnsigned>(n: T, d: T, q: T, r: T) {
        assert_eq!(n.ceiling_div_neg_mod(d), (q, r));

        let mut mut_n = n;
        assert_eq!(mut_n.ceiling_div_assign_neg_mod(d), r);
        assert_eq!(mut_n, q);
    };
    test::<u8>(0, 1, 0, 0);
    test::<u16>(0, 123, 0, 0);
    test::<u32>(1, 1, 1, 0);
    test::<u64>(123, 1, 123, 0);
    test::<u128>(123, 123, 1, 0);
    test::<usize>(123, 456, 1, 333);
    test::<u16>(456, 123, 4, 36);
    test::<u64>(0xffff_ffff, 1, 0xffff_ffff, 0);
    test::<u64>(0xffff_ffff, 0xffff_ffff, 1, 0);
    test::<u64>(1_000_000_000_000, 1, 1_000_000_000_000, 0);
    test::<u64>(1_000_000_000_000, 3, 333_333_333_334, 2);
    test::<u64>(1_000_000_000_000, 123, 8_130_081_301, 23);
    test::<u64>(1_000_000_000_000, 0xffff_ffff, 233, 727_379_735);
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        3,
        333_333_333_333_333_333_333_334,
        2,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        123,
        8_130_081_300_813_008_130_082,
        86,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        232_830_643_708_080,
        1_127_243_600,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        810_000_006_724,
        704_498_996_588,
    );
    test::<u128>(
        253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        94_998_781_946_290_114,
        1_149_635_115_107,
    );
    test::<u64>(
        3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        1,
        11_443_608_136_364_852_355,
    );
    test::<u64>(
        3_356_605_361_737_854,
        3_081_095_617_839_357,
        2,
        2_805_585_873_940_860,
    );
    test::<u128>(
        1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        2,
        808_034_397_882_141_086_757,
    );
    test::<u128>(
        69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<u128>(
        1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<u128>(0, 1_000_000_000_000_000_000_000_000, 0, 0);
    test::<u128>(
        123,
        1_000_000_000_000_000_000_000_000,
        1,
        999_999_999_999_999_999_999_877,
    );
}

macro_rules! ceiling_div_neg_mod_fail {
    ($t:ident, $ceiling_div_neg_mod_fail:ident) => {
        #[test]
        #[should_panic]
        fn $ceiling_div_neg_mod_fail() {
            $t::ONE.ceiling_div_neg_mod(0);
        }
    };
}
ceiling_div_neg_mod_fail!(u8, ceiling_div_neg_mod_u8_fail);
ceiling_div_neg_mod_fail!(u16, ceiling_div_neg_mod_u16_fail);
ceiling_div_neg_mod_fail!(u32, ceiling_div_neg_mod_u32_fail);
ceiling_div_neg_mod_fail!(u64, ceiling_div_neg_mod_u64_fail);
ceiling_div_neg_mod_fail!(u128, ceiling_div_neg_mod_u128_fail);
ceiling_div_neg_mod_fail!(usize, ceiling_div_neg_mod_usize_fail);

macro_rules! ceiling_div_assign_neg_mod_fail {
    ($t:ident, $ceiling_div_assign_neg_mod_fail:ident) => {
        #[test]
        #[should_panic]
        fn $ceiling_div_assign_neg_mod_fail() {
            $t::ONE.ceiling_div_assign_neg_mod(0);
        }
    };
}
ceiling_div_assign_neg_mod_fail!(u8, ceiling_div_assign_neg_mod_u8_fail);
ceiling_div_assign_neg_mod_fail!(u16, ceiling_div_assign_neg_mod_u16_fail);
ceiling_div_assign_neg_mod_fail!(u32, ceiling_div_assign_neg_mod_u32_fail);
ceiling_div_assign_neg_mod_fail!(u64, ceiling_div_assign_neg_mod_u64_fail);
ceiling_div_assign_neg_mod_fail!(u128, ceiling_div_assign_neg_mod_u128_fail);
ceiling_div_assign_neg_mod_fail!(usize, ceiling_div_assign_neg_mod_usize_fail);

#[test]
fn test_ceiling_div_mod() {
    fn test<T: PrimitiveSigned>(n: T, d: T, q: T, r: T) {
        assert_eq!(n.ceiling_div_mod(d), (q, r));

        let mut mut_n = n;
        assert_eq!(mut_n.ceiling_div_assign_mod(d), r);
        assert_eq!(mut_n, q);
    };
    test::<i8>(0, 1, 0, 0);
    test::<i16>(0, 123, 0, 0);
    test::<i32>(1, 1, 1, 0);
    test::<i64>(123, 1, 123, 0);
    test::<i128>(123, 123, 1, 0);
    test::<isize>(123, 456, 1, -333);
    test::<i16>(456, 123, 4, -36);
    test::<i64>(0xffff_ffff, 1, 0xffff_ffff, 0);
    test::<i64>(0xffff_ffff, 0xffff_ffff, 1, 0);
    test::<i64>(1_000_000_000_000, 1, 1_000_000_000_000, 0);
    test::<i64>(1_000_000_000_000, 3, 333_333_333_334, -2);
    test::<i64>(1_000_000_000_000, 123, 8_130_081_301, -23);
    test::<i64>(1_000_000_000_000, 0xffff_ffff, 233, -727_379_735);
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        3,
        333_333_333_333_333_333_333_334,
        -2,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        123,
        8_130_081_300_813_008_130_082,
        -86,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        232_830_643_708_080,
        -1_127_243_600,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        810_000_006_724,
        -704_498_996_588,
    );
    test::<i128>(
        253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        94_998_781_946_290_114,
        -1_149_635_115_107,
    );
    test::<i128>(
        3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        1,
        -11_443_608_136_364_852_355,
    );
    test::<i64>(
        3_356_605_361_737_854,
        3_081_095_617_839_357,
        2,
        -2_805_585_873_940_860,
    );
    test::<i128>(
        1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        2,
        -808_034_397_882_141_086_757,
    );
    test::<i128>(
        69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<i128>(0, 1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(
        123,
        1_000_000_000_000_000_000_000_000,
        1,
        -999_999_999_999_999_999_999_877,
    );

    test::<i8>(0, -1, 0, 0);
    test::<i16>(0, -123, 0, 0);
    test::<i32>(1, -1, -1, 0);
    test::<i64>(123, -1, -123, 0);
    test::<i128>(123, -123, -1, 0);
    test::<isize>(123, -456, 0, 123);
    test::<i16>(456, -123, -3, 87);
    test::<i64>(0xffff_ffff, -1, -0xffff_ffff, 0);
    test::<i64>(0xffff_ffff, -0xffff_ffff, -1, 0);
    test::<i64>(1_000_000_000_000, -1, -1_000_000_000_000, 0);
    test::<i64>(1_000_000_000_000, -3, -333_333_333_333, 1);
    test::<i64>(1_000_000_000_000, -123, -8_130_081_300, 100);
    test::<i64>(1_000_000_000_000, -0xffff_ffff, -232, 3_567_587_560);
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1,
        -1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -3,
        -333_333_333_333_333_333_333_333,
        1,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -123,
        -8_130_081_300_813_008_130_081,
        37,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -0xffff_ffff,
        -232_830_643_708_079,
        3_167_723_695,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1_234_567_890_987,
        -810_000_006_723,
        530_068_894_399,
    );
    test::<i128>(
        253_640_751_230_376_270_397_812_803_167,
        -2_669_936_877_441,
        -94_998_781_946_290_113,
        1_520_301_762_334,
    );
    test::<i128>(
        3_768_477_692_975_601,
        -11_447_376_614_057_827_956,
        0,
        3_768_477_692_975_601,
    );
    test::<i64>(
        3_356_605_361_737_854,
        -3_081_095_617_839_357,
        -1,
        275_509_743_898_497,
    );
    test::<i128>(
        1_098_730_198_198_174_614_195,
        -953_382_298_040_157_850_476,
        -1,
        145_347_900_158_016_763_719,
    );
    test::<i128>(
        69_738_658_860_594_537_152_875_081_748,
        -69_738_658_860_594_537_152_875_081_748,
        -1,
        0,
    );
    test::<i128>(
        1_000_000_000_000_000_000_000_000,
        -1_000_000_000_000_000_000_000_000,
        -1,
        0,
    );
    test::<i128>(0, -1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(123, -1_000_000_000_000_000_000_000_000, 0, 123);

    test::<i8>(-1, 1, -1, 0);
    test::<i16>(-123, 1, -123, 0);
    test::<i32>(-123, 123, -1, 0);
    test::<i64>(-123, 456, 0, -123);
    test::<i128>(-456, 123, -3, -87);
    test::<isize>(-0xffff_ffff, 1, -0xffff_ffff, 0);
    test::<i64>(-0xffff_ffff, 0xffff_ffff, -1, 0);
    test::<i64>(-1_000_000_000_000, 1, -1_000_000_000_000, 0);
    test::<i64>(-1_000_000_000_000, 3, -333_333_333_333, -1);
    test::<i64>(-1_000_000_000_000, 123, -8_130_081_300, -100);
    test::<i64>(-1_000_000_000_000, 0xffff_ffff, -232, -3_567_587_560);
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1,
        -1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        3,
        -333_333_333_333_333_333_333_333,
        -1,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        123,
        -8_130_081_300_813_008_130_081,
        -37,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        0xffff_ffff,
        -232_830_643_708_079,
        -3_167_723_695,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1_234_567_890_987,
        -810_000_006_723,
        -530_068_894_399,
    );
    test::<i128>(
        -253_640_751_230_376_270_397_812_803_167,
        2_669_936_877_441,
        -94_998_781_946_290_113,
        -1_520_301_762_334,
    );
    test::<i128>(
        -3_768_477_692_975_601,
        11_447_376_614_057_827_956,
        0,
        -3_768_477_692_975_601,
    );
    test::<i64>(
        -3_356_605_361_737_854,
        3_081_095_617_839_357,
        -1,
        -275_509_743_898_497,
    );
    test::<i128>(
        -1_098_730_198_198_174_614_195,
        953_382_298_040_157_850_476,
        -1,
        -145_347_900_158_016_763_719,
    );
    test::<i128>(
        -69_738_658_860_594_537_152_875_081_748,
        69_738_658_860_594_537_152_875_081_748,
        -1,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        1_000_000_000_000_000_000_000_000,
        -1,
        0,
    );
    test::<i128>(0, 1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(-123, 1_000_000_000_000_000_000_000_000, 0, -123);

    test::<i8>(-1, -1, 1, 0);
    test::<i16>(-123, -1, 123, 0);
    test::<i32>(-123, -123, 1, 0);
    test::<i64>(-123, -456, 1, 333);
    test::<i128>(-456, -123, 4, 36);
    test::<isize>(-0xffff_ffff, -1, 0xffff_ffff, 0);
    test::<i64>(-0xffff_ffff, -0xffff_ffff, 1, 0);
    test::<i64>(-1_000_000_000_000, -1, 1_000_000_000_000, 0);
    test::<i64>(-1_000_000_000_000, -3, 333_333_333_334, 2);
    test::<i64>(-1_000_000_000_000, -123, 8_130_081_301, 23);
    test::<i64>(-1_000_000_000_000, -0xffff_ffff, 233, 727_379_735);
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1,
        1_000_000_000_000_000_000_000_000,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -3,
        333_333_333_333_333_333_333_334,
        2,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -123,
        8_130_081_300_813_008_130_082,
        86,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -0xffff_ffff,
        232_830_643_708_080,
        1_127_243_600,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1_234_567_890_987,
        810_000_006_724,
        704_498_996_588,
    );
    test::<i128>(
        -253_640_751_230_376_270_397_812_803_167,
        -2_669_936_877_441,
        94_998_781_946_290_114,
        1_149_635_115_107,
    );
    test::<i128>(
        -3_768_477_692_975_601,
        -11_447_376_614_057_827_956,
        1,
        11_443_608_136_364_852_355,
    );
    test::<i64>(
        -3_356_605_361_737_854,
        -3_081_095_617_839_357,
        2,
        2_805_585_873_940_860,
    );
    test::<i128>(
        -1_098_730_198_198_174_614_195,
        -953_382_298_040_157_850_476,
        2,
        808_034_397_882_141_086_757,
    );
    test::<i128>(
        -69_738_658_860_594_537_152_875_081_748,
        -69_738_658_860_594_537_152_875_081_748,
        1,
        0,
    );
    test::<i128>(
        -1_000_000_000_000_000_000_000_000,
        -1_000_000_000_000_000_000_000_000,
        1,
        0,
    );
    test::<i128>(0, -1_000_000_000_000_000_000_000_000, 0, 0);
    test::<i128>(
        -123,
        -1_000_000_000_000_000_000_000_000,
        1,
        999_999_999_999_999_999_999_877,
    );
}

macro_rules! ceiling_div_mod_fail {
    ($t:ident, $ceiling_div_mod_fail_1:ident, $ceiling_div_mod_fail_2:ident) => {
        #[test]
        #[should_panic]
        fn $ceiling_div_mod_fail_1() {
            $t::ONE.ceiling_div_mod(0);
        }

        #[test]
        #[should_panic]
        fn $ceiling_div_mod_fail_2() {
            $t::MIN.ceiling_div_mod(-1);
        }
    };
}
ceiling_div_mod_fail!(i8, ceiling_div_mod_i8_fail_1, ceiling_div_mod_i8_fail_2);
ceiling_div_mod_fail!(i16, ceiling_div_mod_i16_fail_1, ceiling_div_mod_i16_fail_2);
ceiling_div_mod_fail!(i32, ceiling_div_mod_i32_fail_1, ceiling_div_mod_i32_fail_2);
ceiling_div_mod_fail!(i64, ceiling_div_mod_i64_fail_1, ceiling_div_mod_i64_fail_2);
ceiling_div_mod_fail!(
    i128,
    ceiling_div_mod_i128_fail_1,
    ceiling_div_mod_i128_fail_2
);
ceiling_div_mod_fail!(
    isize,
    ceiling_div_mod_isize_fail_1,
    ceiling_div_mod_isize_fail_2
);

macro_rules! ceiling_div_assign_mod_fail {
    ($t:ident, $ceiling_div_assign_mod_fail_1:ident, $ceiling_div_assign_mod_fail_2:ident) => {
        #[test]
        #[should_panic]
        fn $ceiling_div_assign_mod_fail_1() {
            $t::ONE.ceiling_div_assign_mod(0);
        }

        #[test]
        #[should_panic]
        fn $ceiling_div_assign_mod_fail_2() {
            $t::MIN.ceiling_div_assign_mod(-1);
        }
    };
}
ceiling_div_assign_mod_fail!(
    i8,
    ceiling_div_assign_mod_i8_fail_1,
    ceiling_div_assign_mod_i8_fail_2
);
ceiling_div_assign_mod_fail!(
    i16,
    ceiling_div_assign_mod_i16_fail_1,
    ceiling_div_assign_mod_i16_fail_2
);
ceiling_div_assign_mod_fail!(
    i32,
    ceiling_div_assign_mod_i32_fail_1,
    ceiling_div_assign_mod_i32_fail_2
);
ceiling_div_assign_mod_fail!(
    i64,
    ceiling_div_assign_mod_i64_fail_1,
    ceiling_div_assign_mod_i64_fail_2
);
ceiling_div_assign_mod_fail!(
    i128,
    ceiling_div_assign_mod_i128_fail_1,
    ceiling_div_assign_mod_i128_fail_2
);
ceiling_div_assign_mod_fail!(
    isize,
    ceiling_div_assign_mod_isize_fail_1,
    ceiling_div_assign_mod_isize_fail_2
);
